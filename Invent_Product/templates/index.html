<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestor de Inventario</title>

  <!-- Cargar los archivos estáticos -->
  {% load static %}

  <!-- Enlace a tu archivo de CSS -->
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">

  <!-- FontAwesome para los íconos -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>

<body>

  <!-- Barra de Navegación -->
  <header>
    <div class="container">
      <h1>Gestor de Inventario</h1>
    </div>
  </header>

  <!-- Sección de Búsqueda y Filtro -->
  <section id="searchSection">
    <div class="search-container">
      <form id="searchForm" autocomplete="off">
        <input type="text" id="search" name="buscar" placeholder="Buscar producto..." autocomplete="off">
        <button type="submit">Buscar</button>
      </form>


      <!-- Selector de Categoría -->
      <select id="categoryDropdown" onchange="filterByCategory(this.value)" style="padding: 12px 25px; border-radius: 15px; border: 2px solid #00796b; font-size: 1.1rem; font-weight: 700; color: #00796b; margin-right: 20px;">
        <option value="" selected>Ver todas las categorías</option>
        {% for categoria in categorias %}
          <option value="{{ categoria.nombre_categoria }}">{{ categoria.nombre_categoria }}</option>
        {% endfor %}
      </select>

      <!-- Botón para agregar producto -->
      <button class="btn" onclick="toggleProductModal()">Agregar Producto</button>
    </div>
  </section>


  <!-- Filtro de Categoría -->
  <!-- Sección de Productos -->
  <div id="productList"></div>


  <!-- Modal para Añadir o Actualizar Producto -->
  <div id="productModal" class="modal hidden">
    <div class="modal-content">
      <h2 id="modalTitle">Añadir Producto</h2>
      <form id="productForm">
        <label for="productName">Nombre del Producto:</label>
        <input type="text" id="productName" required>

        <label for="productCode">Código:</label>
        <input type="text" id="productCode" required>

        <label for="productCategory">Categoría:</label>
        <select id="productCategory" required style="width: 100%; padding: 14px 16px; margin-bottom: 20px; border-radius: 15px; border: 1.8px solid #ccc; font-size: 1rem; transition: border-color 0.3s ease;">
          <option value="" disabled selected>Selecciona una categoría</option>
          {% for categoria in categorias %}
            <option value="{{ categoria.nombre_categoria }}">{{ categoria.nombre_categoria }}</option>
          {% endfor %}
        </select>

        <label for="productQuantity">Cantidad:</label>
        <input type="number" id="productQuantity" required>

        <label for="productPrice">Precio:</label>
        <input type="number" id="productPrice" step="0.01" required>

        <button type="submit">Guardar Producto</button>
        <button type="button" onclick="toggleProductModal()">Cancelar</button>
      </form>
    </div>
  </div>

  <!-- Script JS -->
  <script src="{% static 'js/scripts.js' %}"></script>
</body>

</html>